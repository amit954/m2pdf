(()=>{var a=class{constructor(){this.isDrawing=!1,this.currentPath=[],this.paths=new Map}startDrawing(i,n,t){this.isDrawing=!0,this.currentPath=[{x:i,y:n}]}addPoint(i,n){if(!this.isDrawing)return;let t=this.currentPath[this.currentPath.length-1],s=i-t.x,r=n-t.y;return s*s+r*r>4?(this.currentPath.push({x:i,y:n}),!0):!1}stopDrawing(i){this.isDrawing&&(this.isDrawing=!1,this.currentPath.length>1&&(this.paths.has(i)||this.paths.set(i,[]),this.paths.get(i).push([...this.currentPath])),this.currentPath=[])}drawActivePath(i,n){if(this.currentPath.length<2)return;let t=i.getContext("2d"),s=Math.min(window.devicePixelRatio||1,2),r=o=>o*n*s;t.lineCap="round",t.lineJoin="round",t.strokeStyle="#000080",t.lineWidth=2*n*s;let e=this.currentPath[this.currentPath.length-2],h=this.currentPath[this.currentPath.length-1];t.beginPath(),t.moveTo(r(e.x),r(e.y)),t.lineTo(r(h.x),r(h.y)),t.stroke()}renderDrawings(i,n,t){let s=n.getContext("2d"),r=Math.min(window.devicePixelRatio||1,2);s.lineCap="round",s.lineJoin="round",s.strokeStyle="#000080",s.lineWidth=2*t*r,(this.paths.get(i)||[]).forEach(h=>{this.drawPath(s,h,t,r)}),this.isDrawing&&this.currentPath.length>0&&this.drawPath(s,this.currentPath,t,r)}drawPath(i,n,t,s){if(n.length<2)return;let r=e=>e*t*s;i.beginPath(),i.moveTo(r(n[0].x),r(n[0].y));for(let e=1;e<n.length;e++)i.lineTo(r(n[e].x),r(n[e].y));i.stroke()}};})();
